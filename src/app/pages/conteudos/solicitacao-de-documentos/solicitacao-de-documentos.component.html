<div class="d-flex justify-content-center align-items-center p-5 gap-3" style="height: 100vh; width: 100%;" >

  <nav 
    ngbNav  
    #nav="ngbNav" 
    class="card shadow sidebar-scroll" 
    [(activeId)]="activeId" 
    [class.oculto]="menuOculto">

    <div class="fw-bolder mb-3 fs-4 titulo-modulo sticky-top" >M√ìDULO 1</div>
    
    <ng-container ngbNavItem="1">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="1.1" [ngClass]="{ 'ativo': activeId === '1' }">
          <div class="titulo">Introdu√ß√£o</div>
          <div class="descricao">Assista o video...</div>
          <i *ngIf="passosConcluidos.includes(1)" class="fa-solid fa-circle-check check-icon"></i>
          </button>
        </div>
      <ng-template ngbNavContent>
        <app-video 
          rotaVideo="../../../../assets/videos/recepcao-de-documentos/introducao.mp4"
          (videoFinalizado)="marcarComoConcluido(1)" 
          id="video1">
        </app-video>

        <app-botao-proximo-item 
          [visivel]="mostrarBotaoProximo"
          [autoAvancar]="autoAvancarHabilitado && !autoAvancarExecutado"
          (avancar)="onBotaoAvancar()">
        </app-botao-proximo-item>
      </ng-template>
    </ng-container>

    <ng-container ngbNavItem="2">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="1.2" [ngClass]="{ 'ativo': activeId === '2' }">
          <div>
            <div class="titulo">Criando Relacionamento</div>
            <div class="descricao">Assista o video...</div>
          </div>
          <i *ngIf="passosConcluidos.includes(2)" class="fa-solid fa-circle-check check-icon"></i>
        </button>
      </div>
      <ng-template ngbNavContent>
        <app-video rotaVideo="../../../../assets/videos/recepcao-de-documentos/criando-relacionamento.mp4"
          (videoFinalizado)="marcarComoConcluido(2)" id="video2"></app-video>

        <app-botao-proximo-item 
          [visivel]="mostrarBotaoProximo" 
          [autoAvancar]="false"
          (avancar)="onBotaoAvancar()">
        </app-botao-proximo-item>
      </ng-template>
    </ng-container>

    <ng-container ngbNavItem="3">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="1.3" [ngClass]="{ 'ativo': activeId === '3' }">
          <div>
            <div class="titulo">Perguntas e Respostas</div>
            <div class="descricao">Responda o Question√°rio.</div>
          </div>
          <i *ngIf="passosConcluidos.includes(3)" class="fa-solid fa-circle-check check-icon"></i>
        </button>
      </div>
      <ng-template ngbNavContent>
        <div class="container-scroll" #scrollContainer>
          <app-video 
            rotaVideo="../../../../assets/videos/recepcao-de-documentos/questionario1.mp4"
            [mostrarBotao]="true" 
            id="video3">
          </app-video>
          <app-questionario pergunta="Oi, gente! J√° chegou a hora de mandar aqueles documentos temidos de novo? üòÖ"
            acao="Como voc√™ responderia? Escolha a melhor op√ß√£o abaixo:" [alternativas]="[
                'Boa tarde. Favor enviar os documentos fiscais at√© o dia 5. Att.',
                'Hahaha, chegou sim! Mas relaxa que a gente nem liga se atrasar um pouquinho üòú.',
                'Isso mesmo! üòÑ J√° estamos no per√≠odo de envio. Se puder nos encaminhar os documentos at√© o dia 5, agradecemos muito! Qualquer d√∫vida, √© s√≥ chamar.',
                'Prezada cliente, conforme cronograma, solicitamos o envio dos documentos obrigat√≥rios. Contamos com sua colabora√ß√£o.'
              ]"
            correta="Isso mesmo! üòÑ J√° estamos no per√≠odo de envio. Se puder nos encaminhar os documentos at√© o dia 5, agradecemos muito! Qualquer d√∫vida, √© s√≥ chamar."
            [justificativas]="{
                'Boa tarde. Favor enviar os documentos fiscais at√© o dia 5. Att.':
                  '‚ùå Resposta correta em conte√∫do, mas fria e impessoal para o perfil da cliente.',
                'Hahaha, chegou sim! Mas relaxa que a gente nem liga se atrasar um pouquinho üòú.':
                  '‚ùå Muito informal e transmite permissividade que pode comprometer prazos e processos.',
                'Isso mesmo! üòÑ J√° estamos no per√≠odo de envio. Se puder nos encaminhar os documentos at√© o dia 5, agradecemos muito! Qualquer d√∫vida, √© s√≥ chamar.' :
                  '‚úÖ Resposta ideal: amig√°vel, respeita o tom leve da cliente e mant√©m o profissionalismo e clareza na orienta√ß√£o.',
                'Prezada cliente, conforme cronograma, solicitamos o envio dos documentos obrigat√≥rios. Contamos com sua colabora√ß√£o.':
                  '‚ùå Correta tecnicamente, mas excessivamente formal e distante do estilo da cliente.',
              }" id="questionario1" (respostaCorreta)="marcarComoConcluido(3)">
          </app-questionario>
        </div>
        <app-botao-proximo-item 
          [visivel]="mostrarBotaoProximo" [autoAvancar]="false"
          (avancar)="onBotaoAvancar()"></app-botao-proximo-item>
      </ng-template>
    </ng-container>
    
    <ng-container ngbNavItem="4">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="1.4" [ngClass]="{ 'ativo': activeId === '4' }">
          <div>
            <div class="titulo">Perguntas e Respostas</div>
            <div class="descricao">Responda o Question√°rio.</div>
          </div>
          <i *ngIf="passosConcluidos.includes(4)" class="fa-solid fa-circle-check check-icon"></i>
        </button>
      </div>
      <ng-template ngbNavContent>
        <div class="container-scroll" #scrollContainer>
          <app-video rotaVideo="../../../../assets/videos/recepcao-de-documentos/questionario2.mp4"
            [mostrarBotao]="true">
          </app-video>
          <app-questionario
            pergunta="De novo esse neg√≥cio de documentos? Toda hora √© a mesma coisa. D√° pra ser mais eficiente a√≠? J√° estou sem paci√™ncia."
            acao="Considerando o perfil do cliente e o padr√£o de atendimento da Gerencer Contabilidade, qual √© a melhor forma de responder?"
            [alternativas]="[
                'Estamos fazendo o que d√°, senhor. Se n√£o estiver satisfeito, pode procurar outra contabilidade.',
                'Boa tarde. Entendemos sua insatisfa√ß√£o. Os documentos s√£o exigidos mensalmente e seguem abaixo os que precisamos para este per√≠odo. Permanecemos √† disposi√ß√£o.',
                'Calma, por favor. A gente est√° fazendo o poss√≠vel. S√≥ precisamos que envie como sempre.',
                'Sim, √© o mesmo de sempre. Todo m√™s precisa. N√£o tem como mudar isso agora.'
              ]"
            correta="Boa tarde. Entendemos sua insatisfa√ß√£o. Os documentos s√£o exigidos mensalmente e seguem abaixo os que precisamos para este per√≠odo. Permanecemos √† disposi√ß√£o."
            [justificativas]="{
                'Estamos fazendo o que d√°, senhor. Se n√£o estiver satisfeito, pode procurar outra contabilidade.':
                  '‚ùå Resposta reativa e defensiva. Escala o conflito, rompe a postura profissional e pode causar preju√≠zos para a rela√ß√£o com o cliente...',
                'Boa tarde. Entendemos sua insatisfa√ß√£o. Os documentos s√£o exigidos mensalmente e seguem abaixo os que precisamos para este per√≠odo. Permanecemos √† disposi√ß√£o.':
                  '‚úÖ Resposta ideal: demonstra empatia sem perder a firmeza e o foco no processo. Profissional, direta e clara, sem absorver o tom grosseiro.',
                'Calma, por favor. A gente est√° fazendo o poss√≠vel. S√≥ precisamos que envie como sempre.':
                  '‚ùå Apesar da tentativa de amenizar, transmite fragilidade e informalidade. Pode ser mal interpretada e gerar mais insatisfa√ß√£o.',
                'Sim, √© o mesmo de sempre. Todo m√™s precisa. N√£o tem como mudar isso agora.':
                  '‚ùå Seca e direta demais, adota um tom semelhante ao do cliente. Pode soar rude e desinteressada.',
              }" id="questionario2" (respostaCorreta)="marcarComoConcluido(4)">
          </app-questionario>
        </div>
        <app-botao-proximo-item 
          [visivel]="mostrarBotaoProximo" 
          [autoAvancar]="false" 
          (avancar)="onBotaoAvancar()">
        </app-botao-proximo-item>
      </ng-template>
    </ng-container>

    <div class="fw-bolder mb-3 fs-4 titulo-meio sticky-top" >M√ìDULO 2</div>

    <ng-container ngbNavItem="5">
        <div class="card-button">
          <button ngbNavLink class="botao-sidebar" data-step="2.1" [ngClass]="{ 'ativo': activeId === '5' }">
              <div class="titulo">Introdu√ß√£o</div>
              <div class="descricao">Assista o video...</div>
            <i *ngIf="passosConcluidos.includes(5)" class="fa-solid fa-circle-check check-icon"></i>
          </button>
        </div>
      <ng-template ngbNavContent>
        <app-video 
          rotaVideo="../../../../assets/videos/recepcao-de-documentos/solicitacao.mp4"
          (videoFinalizado)="marcarComoConcluido(5)" 
          id="video5">
        </app-video>

        <app-botao-proximo-item 
          [visivel]="mostrarBotaoProximo"
          [autoAvancar]="false"
          (avancar)="onBotaoAvancar()">
        </app-botao-proximo-item>
      </ng-template>
    </ng-container>

    <ng-container ngbNavItem="6">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="2.2" [ngClass]="{ 'ativo': activeId === '6' }">
          <div class="titulo">Solicita√ß√£o de Documentos</div>
          <div class="descricao">Aprenda se organizar e armazenar da forma correta</div>
          <i *ngIf="passosConcluidos.includes(6)" class="fa-solid fa-circle-check check-icon"></i>
        </button>
      </div>
      <ng-template ngbNavContent>
        <div class="container-scroll" #scrollContainer>
          <app-slide-conteudo 
            [items]="carouselItems" 
            (chegouNoUltimoSlide)="marcarComoConcluido(6)"
            id="slide-1"
            (menuToggle)="onMenuToggle($event)">
          </app-slide-conteudo>
        </div>
      </ng-template>
    </ng-container>

    <ng-container ngbNavItem="7">
      <div class="card-button">
        <button ngbNavLink class="botao-sidebar" data-step="2.3" [ngClass]="{ 'ativo': activeId === '7' }">
          <div class="titulo">Email Cobran√ßa de Documentos</div>
          <div class="descricao">Use esse modelo para cobrar os documentos da forma correta.</div>
          <i *ngIf="passosConcluidos.includes(7)" class="fa-solid fa-circle-check check-icon"></i>
        </button>
      </div>
      <ng-template ngbNavContent>
        <div class="container-scroll" #scrollContainer>
          <app-modelo-email></app-modelo-email>
        </div>
      </ng-template>
    </ng-container>


    <div class="fw-bolder fs-4 sticky-bottom"></div>
  </nav>
  <div [ngbNavOutlet]="nav" class="flex-grow-1" style="width: 80vw;"></div>
</div>
<app-botao-voltar rota="/home"></app-botao-voltar>